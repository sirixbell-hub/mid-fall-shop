<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ | Mid Fall</title>

  <!-- CSS -->
  <link rel="stylesheet" href="./css/cart.css">
</head>

<body>

<header class="cart-header">
  <h2>üõí ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h2>

  <div class="nav-btn">
    <button onclick="goHome()">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</button>
    <button onclick="goToPurchaseHistory()">üìú ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥</button>
  </div>
</header>

<div class="cart-container">
  <table class="cart-table">
    <thead>
      <tr>
        <th>‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</th>
        <th>‡∏ä‡∏∑‡πà‡∏≠</th>
        <th>‡∏£‡∏≤‡∏Ñ‡∏≤</th>
        <th>‡∏•‡∏ö</th>
      </tr>
    </thead>
    <tbody id="cart-body"></tbody>
  </table>

  <div class="cart-footer">
    <h3>‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: <span id="total-price">0</span> ‡∏ö‡∏≤‡∏ó</h3>

    <button class="checkout-btn" onclick="goToCheckoutPage()">
      üí≥ ‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô
    </button>
  </div>
</div>

<!-- JS -->
<script src="./js/products.js"></script>
<script src="./js/cart.js"></script>
<script src="./js/auth.js"></script>

<script>
  renderCart();
  updateCartCount();

  function goToCheckoutPage(){
    const cart = JSON.parse(localStorage.getItem('cart')) || [];
    if(cart.length === 0){
      alert("‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤");
      return;
    }
    window.location.href = "checkout.html";
  }
</script>

</body>
</html>
